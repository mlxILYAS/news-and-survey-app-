<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>{% block title %}Site{% endblock %}</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
	<style>
		/* Custom Styles */
		.article-card:hover {
			transform: translateY(-5px);
			box-shadow: 0 10px 25px rgba(0,0,0,0.15) !important;
		}
		
		.survey-card:hover {
			transform: translateY(-3px);
		}
		
		.vip-survey-card:hover {
			transform: translateY(-5px);
			box-shadow: 0 15px 35px rgba(255,193,7,0.3) !important;
		}
		
		.bg-gradient-primary {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
		}
		
		.bg-gradient-success {
			background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
		}
		
		.bg-gradient-warning {
			background: linear-gradient(135deg, #ffc107 0%, #fd7e14 100%);
		}
		
		.bg-gradient-light {
			background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
		}
		
		.navbar-brand {
			font-weight: 700;
		}
		
		.btn {
			border-radius: 8px;
			font-weight: 500;
		}
		
		.card {
			border-radius: 12px;
		}
		
		.badge {
			border-radius: 6px;
		}
		
		.progress {
			border-radius: 10px;
		}
		
		.hero-section {
			box-shadow: 0 10px 30px rgba(0,0,0,0.1);
		}

		/* Flipboard-like article card */
		.flip-card {
			position: relative;
			background: #111;
			border: 1px solid rgba(255,255,255,0.06);
			border-radius: 16px;
			overflow: hidden;
			color: #fff;
			display: flex;
			flex-direction: column;
			height: 520px;
			transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease;
		}
		.flip-card:hover {
			transform: translateY(-4px);
			box-shadow: 0 18px 40px rgba(0,0,0,.35);
			border-color: rgba(255,255,255,0.12);
		}

		.flip-cover {
			position: absolute;
			inset: 0;
			display: block;
			background-size: cover;
			background-position: center;
			text-decoration: none;
			outline: none;
		}
		.flip-cover::after {
			content: '';
			position: absolute;
			inset: 0;
			background: linear-gradient(180deg, rgba(0,0,0,0) 35%, rgba(0,0,0,.55) 72%, rgba(0,0,0,.92) 100%);
		}

		.flip-content {
			position: absolute;
			left: 18px;
			right: 18px;
			bottom: 76px; /* leave room for actions bar */
			z-index: 2;
		}
		.flip-chip {
			display: inline-flex;
			align-items: center;
			gap: 8px;
			font-size: .85rem;
			color: #ddd;
			margin-bottom: 6px;
			opacity: .95;
		}
		.flip-title {
			margin: 0 0 8px 0;
			font-weight: 700;
			font-size: 1.35rem;
			line-height: 1.25;
			color: #fff;
			text-shadow: 0 2px 8px rgba(0,0,0,.6);
		}
		.flip-sub {
			font-size: .9rem;
			color: #cfcfcf;
			opacity: .95;
		}

		.flip-actions {
			position: absolute;
			left: 0;
			right: 0;
			bottom: 0;
			z-index: 2;
			display: flex;
			align-items: center;
			justify-content: space-between;
			gap: 14px;
			padding: 12px 16px;
			background: rgba(0,0,0,0.35);
			border-top: 1px solid rgba(255,255,255,0.08);
			backdrop-filter: blur(2px);
		}
		.flip-actions .flip-icon {
			color: #e8e8e8;
			opacity: .9;
			cursor: pointer;
			transition: transform .15s ease, opacity .15s ease, color .15s ease;
		}
		.flip-actions .flip-icon:hover {
			opacity: 1;
			color: #fff;
			transform: scale(1.08);
		}
		.flip-actions .flip-icon.muted {
			opacity: .8;
		}
		/* Article detail hero */
		:root {
			--hero-dark: #52393a;
			--hero-dark-2: #412d2e;
		}
		.hero-article {
			display: grid;
			grid-template-columns: 1.1fr 1fr;
			min-height: 420px;
			background: linear-gradient(135deg, var(--hero-dark), var(--hero-dark-2));
			border-radius: 16px;
			overflow: hidden;
			color: #f3f3f3;
			border: 1px solid rgba(255,255,255,.06);
			box-shadow: 0 18px 40px rgba(0,0,0,.25);
		}
		.hero-left {
			padding: 28px 32px;
			display: flex;
			flex-direction: column;
			justify-content: center;
			gap: 6px;
		}
		.hero-right {
			background-size: cover;
			background-position: center;
			min-height: 320px;
			position: relative;
		}
		.hero-right::after {
			content: '';
			position: absolute;
			inset: 0;
			background: radial-gradient(circle at 35% 50%, rgba(0,0,0,0) 0%, rgba(0,0,0,.35) 55%, rgba(0,0,0,.6) 100%);
		}
		.tag-chip {
			display: inline-block;
			padding: .35rem .6rem;
			background: rgba(255,255,255,.08);
			border: 1px solid rgba(255,255,255,.12);
			border-radius: 999px;
			font-size: .8rem;
			color: #eee;
		}
		.hero-action {
			color: #e7e7e7;
			opacity: .9;
			cursor: pointer;
			transition: transform .15s ease, opacity .15s ease;
		}
		.hero-action:hover {
			opacity: 1;
			transform: translateY(-1px);
		}
		.text-white-75 { color: rgba(255,255,255,.75) !important; }

		@media (max-width: 992px) {
			.hero-article {
				grid-template-columns: 1fr;
			}
			.hero-right {
				min-height: 260px;
				order: -1; /* image on top on mobile */
			}
			.hero-left {
				padding: 20px;
			}
		}

		/* Article body typography */
		.hero-right.no-image { background-image: linear-gradient(135deg,#3a3a3a,#1a1a1a); }
		.article-content {
			font-size: 1.075rem;
			line-height: 1.9;
			color: #212529;
		}
		.article-content p { margin: 0 0 1.1rem 0; }
		.article-content h2, .article-content h3 {
			font-weight: 800;
			line-height: 1.25;
			margin-top: 2rem;
			margin-bottom: .75rem;
		}
		.article-content h2 { font-size: 1.65rem; }
		.article-content h3 { font-size: 1.35rem; }
		.article-content blockquote {
			border-left: 4px solid #ff7043;
			background: #fff8f3;
			padding: .75rem 1rem;
			margin: 1.2rem 0;
			color: #5c5c5c;
			font-style: italic;
		}
		.article-content img {
			max-width: 100%;
			height: auto;
			border-radius: 12px;
			margin: 1rem 0;
		}
		.article-content hr {
			height: 2px;
			border: 0;
			background: linear-gradient(90deg, rgba(0,0,0,0), rgba(0,0,0,.2), rgba(0,0,0,0));
			margin: 2rem 0;
		}
		.article-content p:first-of-type::first-letter {
			float: left;
			font-size: 3rem;
			line-height: 1;
			padding-right: 6px;
			font-weight: 700;
			color: #8b3d3f;
		}
		.article-content pre, .article-content code {
			background: #f6f8fa;
			border: 1px solid #e1e4e8;
			border-radius: 8px;
			padding: .25rem .45rem;
		}
		.article-content pre {
			padding: .75rem 1rem;
			overflow: auto;
		}

		/* Sticky share rail */
		.share-rail { display: flex; flex-direction: column; gap: 10px; }
		.rail-btn {
			display: inline-flex;
			align-items: center;
			justify-content: center;
			width: 42px;
			height: 42px;
			border-radius: 10px;
			border: 1px solid rgba(0,0,0,.08);
			background: #fff;
			color: #333;
			box-shadow: 0 6px 14px rgba(0,0,0,.08);
			transition: transform .15s ease, box-shadow .15s ease;
		}
		.rail-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(0,0,0,.12); }
		.rail-btn.copied { background: #d1fae5; border-color: #10b981; color: #065f46; }

		/* Reading progress */
		.read-progress {
			height: 4px;
			background: rgba(0,0,0,.06);
			border-radius: 999px;
			overflow: hidden;
			margin-bottom: 12px;
		}
		.read-progress-bar {
			height: 100%;
			width: 0%;
			background: linear-gradient(90deg,#ff8a4c,#ff3d6e);
			transition: width .12s ease-out;
		}
	</style>
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
		<div class="container">
			<a class="navbar-brand" href="/"><i class="fas fa-newspaper me-2"></i>News & Surveys</a>
			<div class="collapse navbar-collapse">
				<ul class="navbar-nav ms-auto">
					{% if user.is_authenticated %}
						<li class="nav-item"><span class="navbar-text me-2"><i class="fas fa-user me-1"></i>Hello, {{ user.username }}</span></li>
						<li class="nav-item"><a class="nav-link" href="{% url 'news:profile' %}"><i class="fas fa-cog me-1"></i>Profile</a></li>
						{% if user.is_superuser %}
							<li class="nav-item"><a class="nav-link" href="{% url 'news:user_management' %}"><i class="fas fa-users me-1"></i>User Management</a></li>
							<li class="nav-item"><a class="nav-link" href="{% url 'news:survey_results' %}"><i class="fas fa-chart-bar me-1"></i>Survey Results</a></li>
							<li class="nav-item"><a class="nav-link" href="{% url 'news:superuser_dashboard' %}"><i class="fas fa-tachometer-alt me-1"></i>Dashboard</a></li>
						{% endif %}
						<li class="nav-item">
							<form method="post" action="{% url 'logout' %}" style="display: inline;">
								{% csrf_token %}
								<button type="submit" class="btn btn-link nav-link" style="border: none; background: none; padding: 0; margin: 0;"><i class="fas fa-sign-out-alt me-1"></i>Logout</button>
							</form>
						</li>
					{% else %}
						<li class="nav-item"><a class="nav-link" href="{% url 'login' %}"><i class="fas fa-sign-in-alt me-1"></i>Login</a></li>
					{% endif %}
				</ul>
			</div>
		</div>
	</nav>
	<main class="container">
		{% if messages %}
			{% for message in messages %}
				<div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
					{{ message }}
					<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
				</div>
			{% endfor %}
		{% endif %}
		
		{% block back_button %}
		<div class="mb-3">
			<button onclick="history.back()" class="btn btn-outline-secondary">
				<i class="fas fa-arrow-left me-2"></i>Back
			</button>
		</div>
		{% endblock %}
		
		{% block content %}{% endblock %}
	</main>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 